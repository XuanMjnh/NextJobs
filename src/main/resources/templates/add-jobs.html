<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>

    <meta charset="UTF-8"/>
    <link th:rel="stylesheet" type="text/css" media="all" th:href="@{/summernote/summernote-lite.min.css}"/>
    <link th:rel="stylesheet" th:href="@{/webjars/bootstrap/css/bootstrap.min.css} "/>
    <link rel="stylesheet" type="text/css" media="all"  th:href="@{/css/font-awesome.min.css}" />
    <link rel="stylesheet" type="text/css" media="all"  th:href="@{/css/style.css}" />
    <link rel="stylesheet" type="text/css" media="all"  th:href="@{/css/styles.css}" />
    <meta charset="ISO-8859-1">
    <title>Profile Setup</title>
</head>

<body class="background">
    <div>
        <label class="mt-4 ms-5">
            <a th:href="@{/dashboard/}"
               class="btn fw-bold"
               style="background-color: #164081; color: white; border: none;">
                NextJobs
            </a>
        </label>
    </div>
    <div class="add-job-container">

        <div class="add-job-box shadow-effect">
            <div class="add-job-title"><h2>Tạo công việc mới</h2></div>
            <form id="job-main-form" th:action="@{/dashboard/addNew}" th:object="${jobPostActivity}" method="post" class="job-add-form"  enctype="multipart/form-data" >
                <input hidden type="text" th:field="*{jobPostId}" >
                <input hidden type="text" th:field="*{jobLocationId.Id}" >
                <input hidden type="text" th:field="*{jobCompanyId.Id}" >
                <input hidden type="text" th:field="*{postedDate}">

                <div class="add-row">
                    <div class="add-row-title">Tên công việc</div>
                    <input id="title" type="text" th:field="*{jobTitle}" class="form-control" placeholder="Tên công việc">
                </div>

                <div class="add-row">
                    <div class="add-row-title">Hình thức làm việc</div>
                    <select id="type" th:field="*{jobType}" class="form-control">
                        <option value="" >Lựa chọn</option>
                        <option th:value="Full-time" >Toàn thời gian</option>
                        <option th:value="Part-time" >Bán thời gian</option>
                        <option th:value="Freelance" >Tự do</option>
                        <option th:value="Internship" >Thực tập</option>
                    </select>
                </div>


                <div class="add-row">
                    <div class="add-row-title">Địa điểm làm việc</div>
                    <select id="remote" th:field="*{remote}" class="form-control">
                        <option value="">Lựa chọn</option>
                        <option th:value="Remote-Only">Làm việc từ xa</option>
                        <option th:value="Office-Only">Văn phòng</option>
                        <option th:value="Partial-Remote">Kết hợp</option>
                    </select>
                </div>

                <div class="add-row">
                    <div class="add-row-title">Thu nhập</div>
                    <input id="salary" th:field="*{salary}" type="text" class="form-control" placeholder="Thu nhập">
                </div>

                <div class="add-row">
                    <div class="add-row-title">Số lượng tuyển</div>
                    <input id="number" th:field="*{number}" type="text" class="form-control" placeholder="Số lượng">
                </div>

                <div class="add-row">
                    <div class="add-row-title">Ngành/ Lĩnh vực</div>
                    <input id="field" th:field="*{field}" type="text" class="form-control" placeholder="ngành">
                </div>

                <div class="add-row">
                    <div class="add-row-title">Số năm kinh nghiệm yêu cầu</div>
                    <input id="experience_required" th:field="*{experienceRequired}" type="text" class="form-control" placeholder="Số năm kinh nghiệm">
                </div>

                <div class="add-row">
                    <div class="add-row-title">Trình độ học vấn yêu cầu</div>
                    <input id="certificate_required" th:field="*{certificateRequired}" type="text" class="form-control" placeholder="Trình độ học vấn">
                </div>


                <div class="add-row">
                    <div class="add-row-title">Mô tả công việc</div>
                    <textarea type="text" rows="4" id="content" placeholder="Content" class="form-control"
                              th:field="*{descriptionOfJob}" autocomplete="off" ></textarea>
                </div>

                <div class="add-row">
                    <div class="add-row-title">Địa chỉ</div>
                    <div class="add-row-row">
                        <input th:field="*{jobLocationId.city}" id="city" type="text"  class="form-control" placeholder="Địa chỉ">
                        <input id="state" th:field="*{jobLocationId.state}" type="text"  class="form-control" placeholder="Xã/phường">
                        <input id="country" th:field="*{jobLocationId.country}" type="text"  class="form-control" placeholder="Tỉnh/thành phố">
                    </div>
                </div>
                <div class="add-row">
                    <div class="add-row-title">Tên công ty</div>
                    <input id="companyName" th:field="*{jobCompanyId.name}" type="text" class="form-control" placeholder="Công ty">
                </div>
                <div class="add-row">
                    <div class="add-row-title">Logo công ty</div>
                    <input id="companyLogo" name="companyLogo" type="file" class="form-control" accept="image/*">
                    <div class="add-row-row">
                        <img id="logoPreview" src="#" alt="Xem trước logo"
                             style="display:none; margin-top:10px; max-height:120px; border-radius:8px;">
                    </div>
                </div>

                <button type="submit" name="submit" class="myBtn btn-save">Đăng</button>
            </form>

        </div>
    </div>

<script type="text/javascript" th:src="@{/webjars/jquery/jquery.min.js}"></script>
<script type="text/javascript" th:src="@{/webjars/popper.js/umd/popper.min.js}"></script>
<script type="text/javascript" th:src="@{/webjars/bootstrap/js/bootstrap.min.js}"></script>
<script type="text/javascript" th:src="@{/summernote/summernote-lite.min.js}"></script>
<script type="text/javascript" th:src="@{/js/main.js}"></script>

<script>
console.log($('#content'));
    $('#content').summernote({
        height: 100
    });
</script>
    <script>
        const fileInput = document.getElementById('companyLogo');
        const previewImg = document.getElementById('logoPreview');

        fileInput.addEventListener('change', function () {
            const file = this.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function (e) {
                    previewImg.src = e.target.result;
                    previewImg.style.display = 'block';
                };
                reader.readAsDataURL(file);
            } else {
                previewImg.style.display = 'none';
                previewImg.src = '#';
            }
        });
    </script>
</body>
</html>